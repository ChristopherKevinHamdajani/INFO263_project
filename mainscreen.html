<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid.min.css" />
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid-theme.min.css" />

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.3/jsgrid.min.js"></script>
    <script type="text/javascript" src="javascript.js"></script>

    <title>Event Scheduler</title>

</head>
<body>

<div id="page"  class="container-lg">
    <div class="jumbotron text-center">
        <h1>Event Scheduler</h1>
    </div>
    <nav id="navbar" class="navbar navbar-expand-sm bg-dark navbar-dark">

        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link active" href="mainscreen.html">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="newEvent.html">New task</a>
                </li>
            </ul>

            <div class="searchInput">
                <input id="searchBar" type="text" placeholder="Search..">
                <div id="searchResults">
                </div>
            </div>

        </div>

    </nav>


    <script>


    </script>


    <div id="container" class="container">

        <div id="eventNumberContainer" class="row mt-3 mb-3">
            <div class="col " >
                <div class="container row" id="currentEventsBox">
                    <div class="col homepageButtonNumber innerShadow currentEvents robotoButton" id="allEventNumber">-</div>
                    <button class="col homepageButtons shadow currentEvents robotoButton" id="allEventsButton">All Events</button>
                </div>
            </div>
            <div class="col ">
                <div class="container row" id="upcomingEventsBox">
                    <div class="col innerShadow robotoButton homepageButtonNumber upcomingEvents" id="upcomingEventsNumber">-</div>
                    <button class="col robotoButton shadow homepageButtons upcomingEvents" id="upcomingEventsButton">Upcoming Events</button>
                </div>
            </div>
            <div class="col " id="pastEventsBox">
                <div class="container row">
                    <div class="col innerShadow robotoButton homepageButtonNumber completedEvents" id="completedEventsNumber">-</div>
                    <button class="col shadow robotoButton homepageButtons completedEvents"  id="completedEvents">Completed Events</button>
                </div>
            </div>
        </div>
        <div class="row">
            <label for="startDate" class="col-2">Start Date</label>
            <input class="col-3" type="date" id="startDate">
            <label for="endDate" class="col-2">End Date</label>
            <input class="col-3" type="date" id="endDate">
            <button id="searchDateButton" class="col-2">Go</button>
        </div>
        <div class="row">
            <div class="col" id="mainTable">
            </div>
        </div>
        <div class="row">
            <div class="col" id="otherTable">

            </div>
        </div>



    </div>

</div>
<script>



    //function createOtherTable(){
    //    let tableFields = [
    //        {name:"eventId", title:"Id", type : "number", width: 20},
    //        {name:"eventName", title: "Name", type: "text", width: 200},
    //        {name:"date", title:"Date", type:"select", width:70},
    //        {name:"clientGroup", title:"Cluster", type:"text", width:70},
    //        {name:"time", title: "Time", type: "text"},
    //        {name:"clientConfiguration", title: "Activate", type: "text"}
    //    ];
//
    //    $("#otherTable").jsGrid({
    //        width: "90%",
    //        height: "700px",
    //        inserting: false,
    //        editing: false,
    //        sorting: true,
    //        paging: false,
    //        fields: tableFields
    //    })
//
//
//
    //}
//
//
    //class event{
//
    //    constructor(id, eventName) {
    //        this.eventId = id;
    //        this.eventName = eventName;
    //        this.date = [];
    //    }
//
    //    eventId(){
    //        return this.eventId;
    //    }
//
//
    //    setClientConfiguration (clusterArray){
    //        this.clientConfiguration = clusterArray;
    //    }
//
    //    setClientGroup(group){
    //        this.clientGroup = group;
    //    }
//
//
    //}

    //function createObjects(){
    //    //get event Id
    //    //from eventId get the cluster id ad cluster group
    //    //from eventId get machine id and machine group
    //    //get date
    //    //get time
    //    // get active
//
    //    let data = {'command' : 'getAllEventId'}
    //    let objArray = [];
    //    //Creates the Event Objects initialized with event_id and event_name
    //    $.post('server.php', data, function(data){
    //        let obj = JSON.parse(data);
//
    //        obj.forEach(element => {
    //            let eventId = element['event_id']
    //            let eventName = element['event_name']
    //            objArray.push(new event(eventId, eventName))
    //        })
    //        objArray.forEach(event =>{
    //            data = {'command' : 'getClusterEventFromId', 'event_id': event.eventId}
    //            $.post("server.php", data, function(returnData){
    //                let eventClusterArray = [];
    //                let obj = JSON.parse(returnData)
    //                obj.forEach(eventCluster => {
    //                    let clusterId = eventCluster["cluster_id"];
    //                    let clusterStatus = eventCluster["cluster_status"]
    //                    let cluster_offset = eventCluster["time_offset"]
    //                    eventClusterArray.push([clusterId, clusterStatus, cluster_offset])
    //                })
    //                event.setClientConfiguration(eventClusterArray)
//
    //            })
//
    //            $.post("server.php", {'command' : 'getClientGroupFromId', 'event_id': event.eventId}, function(returnData){
    //                let obj = JSON.parse(returnData);
    //                let arrayOfClients = [];
    //                obj.forEach(client => {
    //                    arrayOfClients.push(client["machine_group"])
    //                })
    //                event.setClientGroup(arrayOfClients);
    //            })
//
//
    //            $.post("server.php", {'command' : 'getEventDate', 'event_id': event.eventId}, function(returnData){
    //                let obj = JSON.parse(returnData);
    //                let eventDate = [];
    //                obj.forEach(event => {
    //                    eventDate.push(event["date"])
    //                    eventDate.push(event["time"])
    //                })
    //                event.date = eventDate;
    //            console.log("Done first")
    //            })
//
//
//
    //        })
//
    //    })
//
    //    setTimeout(() => {
    //        console.log("Done second")
    //        objArray.forEach(event=>{
    //            event.date = "1932"
    //            console.log(Array(event.date))
//
    //            $('#otherTable').jsGrid("insertItem", {eventId : event.eventId, eventName : event.eventName, date : event.date })
    //        })
    //    }, 5000)
//
//
//
//
    //}
    //createObjects()
    //createOtherTable()
</script>

</body>

</html>